<header class="flex items-center justify-between py-3 sm:py-6 border-b border-[#9CAF88]" role="navigation" aria-label="Primary">
  <%= link_to root_path, class: "flex items-center gap-2 text-xl sm:text-2xl font-bold text-black hover:text-[#416970] transition-colors" do %>
    <%= image_tag "columbine-logo.svg", alt: "Columbine Therapy", class: "w-8 h-8" %>
    <span>Columbine Therapy</span>
  <% end %>

  <!-- Mobile menu button -->
  <button class="sm:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2" onclick="toggleMobileMenu()" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>

  <!-- Desktop navigation -->
  <nav class="hidden gap-8 lg:gap-10 sm:flex">
    <%= link_to "About", about_path, class: "text-sm md:text-base lg:text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2 rounded-sm px-1" %>
    <%= link_to "Services", services_path, class: "text-sm md:text-base lg:text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2 rounded-sm px-1" %>
    <%= link_to "FAQs", faqs_path, class: "text-sm md:text-base lg:text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2 rounded-sm px-1" %>
    <%= link_to "Contact", contact_path, class: "text-sm md:text-base lg:text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2 rounded-sm px-1" %>
  </nav>

  <!-- Desktop CTA button -->
  <div class="hidden sm:block ml-6">
    <%= link_to "Book a Free Consultation", contact_path, class: "rounded-xl px-4 lg:px-6 py-2 lg:py-3 text-white font-medium hover:opacity-90 transition-opacity text-xs md:text-sm lg:text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-[#416970]", style: "background-color: #416970;" %>
  </div>
</header>

<!-- Mobile navigation menu -->
    <div id="mobile-menu" class="hidden sm:hidden bg-gray-50 border-t border-[#9CAF88]">
  <nav class="flex flex-col space-y-2 p-6">
    <%= link_to "About", about_path, class: "text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all py-3 px-2 rounded-lg hover:bg-gray-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2" %>
    <%= link_to "Services", services_path, class: "text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all py-3 px-2 rounded-lg hover:bg-gray-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2" %>
    <%= link_to "FAQs", faqs_path, class: "text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all py-3 px-2 rounded-lg hover:bg-gray-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2" %>
    <%= link_to "Contact", contact_path, class: "text-lg font-medium text-black hover:text-[#416970] hover:underline underline-offset-4 transition-all py-3 px-2 rounded-lg hover:bg-gray-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#416970] focus-visible:ring-offset-2" %>
    <div class="pt-4 border-t border-[#9CAF88]">
      <%= link_to "Book a Free Consultation", contact_path, class: "block w-full text-center rounded-xl px-6 py-3 text-white font-medium hover:opacity-90 transition-opacity focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-[#416970]", style: "background-color: #416970;" %>
    </div>
  </nav>
</div>

<script>
    function toggleMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        const button = document.querySelector('[aria-controls="mobile-menu"]');
        const isHidden = menu.classList.contains('hidden');
        
        menu.classList.toggle('hidden');
        button.setAttribute('aria-expanded', !isHidden);
    }
</script>